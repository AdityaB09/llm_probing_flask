{% extends "base.html" %}
{% block title %}LLM Probing Lab – Dashboard{% endblock %}
{% block content %}
<section class="hero">
  <h1>Layerwise Probing Dashboard</h1>
  <p>
    Explore how transformer layers encode <strong>structure</strong>,
    <strong>emotion</strong>, and <strong>credibility</strong> across multiple NLP tasks.
  </p>
  <a href="{{ url_for('run_probe_view') }}" class="primary-btn">⚡ Start a New Probe</a>
</section>

<section class="cards-grid">
  {% for key, label in tasks.items() %}
  <a class="task-card" href="{{ url_for('run_probe_view') }}?task={{ key }}">
    <h3>{{ label }}</h3>
    <p>{{ TASK_BLURBS.get(key, "") if TASK_BLURBS is defined else "" }}</p>
    <span class="task-tag">Task: {{ key }}</span>
  </a>
  {% endfor %}
</section>

<section class="two-column">
  <div class="card">
    <h2>Recent Runs</h2>
    {% if recent_runs %}
      <ul class="run-list">
        {% for r in recent_runs %}
        <li>
          <a href="{{ url_for('run_detail', run_id=r.run_id) }}">
            <span class="run-model">{{ r.model_name }}</span>
            on
            <span class="run-task">{{ tasks.get(r.task_name, r.task_name) }}</span>
            → best layer {{ r.best_layer }}
            (F1={{ "%.3f"|format(r.best_f1) }})
          </a>
        </li>
        {% endfor %}
      </ul>
    {% else %}
      <p>No runs yet. Launch your first probe!</p>
    {% endif %}
  </div>
  <div class="card">
    <h2>Playground ideas</h2>
    <ul class="idea-list">
      <li>Compare <code>distilbert-base-uncased</code> vs <code>roberta-base</code> on sarcasm.</li>
      <li>See which layer is most calibrated on hate speech detection.</li>
      <li>Explore dataset statistics in the Dataset Explorer.</li>
    </ul>
  </div>
</section>
{% endblock %}
