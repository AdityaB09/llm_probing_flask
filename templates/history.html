{% extends "base.html" %}
{% block content %}
<h2 class="text-light mb-3">Run History</h2>

{% if history %}
  <div class="table-responsive">
    <table class="table table-dark table-striped small align-middle">
      <thead>
      <tr>
        <th>Timestamp (UTC)</th>
        <th>Model</th>
        <th>Task</th>
        <th>Best Layer</th>
        <th>Best F1</th>
        <th>Best Acc</th>
        <th>Max Samples</th>
        <th>Max Length</th>
      </tr>
      </thead>
   <tbody>
{% for r in history %}
  <tr>
    <td>
      <a href="{{ url_for('run_detail', run_id=r.run_id) }}" class="link-light text-decoration-none">
        {{ r.timestamp }}
      </a>
    </td>
    <td>{{ r.model_name }}</td>
    <td><code>{{ r.task_name }}</code></td>
    <td>{{ r.best_layer }}</td>
    <td>{{ "%.3f"|format(r.best_f1) }}</td>
    <td>{{ "%.3f"|format(r.best_acc) }}</td>
    <td>{{ r.max_samples }}</td>
    <td>{{ r.max_length }}</td>
  </tr>
{% endfor %}
</tbody>

    </table>
  </div>
{% else %}
  <p class="text-muted">No history yet. Run a probe first.</p>
{% endif %}
{% endblock %}
